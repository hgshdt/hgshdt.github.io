(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[311],{69951:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return G}});var r,s=t(85893),a=t(67294),o=t(9008),i=t(87757),c=t.n(i),u=t(92137),l=t(5152),d=t(117),p=t(17625),h=t(51436),f=t(24981),v=t(9669),m=t.n(v),w=t(69483),g=t.n(w)().createInstance({name:"filecache"}),x=function(e){return{name:"fetch-plugin",setup:function(n){n.onLoad({filter:/(^index\.js$)/},(function(){return{loader:"jsx",contents:e}})),n.onLoad({filter:/.*/},function(){var e=(0,u.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getItem(n.path);case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),n.onLoad({filter:/.css$/},function(){var e=(0,u.Z)(c().mark((function e(n){var t,r,s,a,o,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get(n.path);case 2:return t=e.sent,r=t.data,s=t.request,a=r.replace(/\n/g,"").replace(/"/g,'\\"').replace(/'/g,"\\'"),o="\n          const style = document.createElement('style');\n          style.innerText = '".concat(a,"';\n          document.head.appendChild(style);\n        "),i={loader:"jsx",contents:o,resolveDir:new URL("./",s.responseURL).pathname},e.next=10,g.setItem(n.path,i);case 10:return e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),n.onLoad({filter:/.*/},function(){var e=(0,u.Z)(c().mark((function e(n){var t,r,s,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m().get(n.path);case 2:return t=e.sent,r=t.data,s=t.request,a={loader:"jsx",contents:r,resolveDir:new URL("./",s.responseURL).pathname},e.next=8,g.setItem(n.path,a);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}}},b=function(){var e=(0,u.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=9;break}return e.prev=1,e.next=4,f.initialize({worker:!0,wasmURL:"https://unpkg.com/esbuild-wasm@0.12.19/esbuild.wasm"}).then((function(){return r=!0}));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),new Error("esbuild.initialize");case 9:return e.prev=9,e.next=12,f.build({entryPoints:["index.js"],bundle:!0,write:!1,plugins:[{name:"unpkg-path-plugin",setup:function(e){e.onResolve({filter:/(^index\.js$)/},(function(){return{path:"index.js",namespace:"a"}})),e.onResolve({filter:/^\.+\//},(function(e){return{namespace:"a",path:new URL(e.path,"https://unpkg.com"+e.resolveDir+"/").href}})),e.onResolve({filter:/.*/},function(){var e=(0,u.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("."!==n.path){e.next=2;break}return e.abrupt("return",{namespace:"a",path:new URL("index.js","https://unpkg.com"+n.resolveDir+"/").href});case 2:return e.abrupt("return",{namespace:"a",path:"https://unpkg.com/".concat(n.path)});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}},x(n)],define:{"process.env.NODE_ENV":'"production"',global:"window"},jsxFactory:"React.createElement",jsxFragment:"React.Fragment"});case 12:return t=e.sent,e.abrupt("return",{code:t.outputFiles[0].text,err:""});case 16:return e.prev=16,e.t1=e.catch(9),e.abrupt("return",{code:"",err:e.t1.message});case 19:case"end":return e.stop()}}),e,null,[[1,6],[9,16]])})));return function(n){return e.apply(this,arguments)}}(),j=t(94972),y=t(73834),k=t(49838),S=t(79426),_=t(59865),E=function(e){var n=e.onChange,t=e.initialValue,r=(0,a.useRef)(),o=(0,_.T)().isDark;return(0,s.jsx)("div",{className:"editor_wrapper",children:(0,s.jsx)(j.ZP,{height:"100%",onChange:n,onMount:function(e,n){r.current=e;var t=new S.ZP(n,(function(e){return(0,y.parse)(e,{sourceType:"module",plugins:["jsx"]})}),k.default,e);t.highLightOnDidChangeModelContent(100),t.addJSXCommentCommand()},value:t,theme:o?"vs-dark":"light",language:"javascript",options:{wordWrap:"on",minimap:{enabled:!1},showUnused:!1,folding:!1,lineNumbersMinChars:3,fontSize:16,scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2}})})},L=t(32465);function C(){var e=(0,L.Z)(["\n<html>\n  <head>\n    <style>html { background-color: white; }</style>\n  </head>\n  <body>\n    <div id=\"root\"></div>\n    <script>\n      const handleError = (err) => {\n        const root = document.querySelector('#root');\n        root.innerHTML = '<div style=\"color: red;\"><h4>Runtime Error</h4>' + err + '</div>';\n        console.error(err);\n      };\n\n      const fetchSVG = () => {\n        const svg = document.querySelector(\"div.mermaid svg\");\n        const serializer = new XMLSerializer();\n        let source = serializer.serializeToString(svg);\n        if(!source.match(/^<svg[^>]+xmlns=\"http://www.w3.org/2000/svg\"/)){\n          source = source.replace(/^<svg/, '<svg xmlns=\"http://www.w3.org/2000/svg\"');\n        }\n        if(!source.match(/^<svg[^>]+\"http://www.w3.org/1999/xlink\"/)){\n          source = source.replace(/^<svg/, '<svg xmlns:xlink=\"http://www.w3.org/1999/xlink\"');\n        }\n        source = '<?xml version=\"1.0\" standalone=\"no\"?>\r\n' + source;\n        const url = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(source);\n        return url;\n      };\n\n      window.addEventListener('error', (event) => {\n        event.preventDefault();\n        handleError(event.error);\n      });\n\n      window.addEventListener('message', (event) => {\n        switch(event.data.action) {\n          case 'code':\n            try {\n              eval(event.data.message);\n            } catch (err) {\n              handleError(err);\n            }\n            break;\n          case 'save':\n            const svg = fetchSVG();\n            window.top.postMessage({\n              action: 'svg',\n              message: svg\n            }, '*', );\n            break;\n        }\n      }, false);\n\n    <\/script>\n  </body>\n</html>\n"],["\n<html>\n  <head>\n    <style>html { background-color: white; }</style>\n  </head>\n  <body>\n    <div id=\"root\"></div>\n    <script>\n      const handleError = (err) => {\n        const root = document.querySelector('#root');\n        root.innerHTML = '<div style=\"color: red;\"><h4>Runtime Error</h4>' + err + '</div>';\n        console.error(err);\n      };\n\n      const fetchSVG = () => {\n        const svg = document.querySelector(\"div.mermaid svg\");\n        const serializer = new XMLSerializer();\n        let source = serializer.serializeToString(svg);\n        if(!source.match(/^<svg[^>]+xmlns=\"http\\:\\/\\/www\\.w3\\.org\\/2000\\/svg\"/)){\n          source = source.replace(/^<svg/, '<svg xmlns=\"http://www.w3.org/2000/svg\"');\n        }\n        if(!source.match(/^<svg[^>]+\"http\\:\\/\\/www\\.w3\\.org\\/1999\\/xlink\"/)){\n          source = source.replace(/^<svg/, '<svg xmlns:xlink=\"http://www.w3.org/1999/xlink\"');\n        }\n        source = '<?xml version=\"1.0\" standalone=\"no\"?>\\r\\n' + source;\n        const url = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(source);\n        return url;\n      };\n\n      window.addEventListener('error', (event) => {\n        event.preventDefault();\n        handleError(event.error);\n      });\n\n      window.addEventListener('message', (event) => {\n        switch(event.data.action) {\n          case 'code':\n            try {\n              eval(event.data.message);\n            } catch (err) {\n              handleError(err);\n            }\n            break;\n          case 'save':\n            const svg = fetchSVG();\n            window.top.postMessage({\n              action: 'svg',\n              message: svg\n            }, '*', );\n            break;\n        }\n      }, false);\n\n    <\/script>\n  </body>\n</html>\n"]);return C=function(){return e},e}var N=String.raw(C()),R=function(e){var n=e.code,t=e.err,r=e.save,o=(0,a.useRef)();(0,a.useEffect)((function(){o.current.srcdoc=N}),[n]),(0,a.useEffect)((function(){window.addEventListener("message",(function(e){if("svg"===e.data.action){var n=document.createElement("a");n.href=e.data.message,n.download="image.svg",n.click()}}))}),[]),(0,a.useEffect)((function(){r<=0||o.current.contentWindow.postMessage({action:"save",message:""},"*")}),[r]);return(0,s.jsxs)("div",{className:"preview_wrapper",children:[(0,s.jsx)("iframe",{title:"preview",ref:o,sandbox:"allow-scripts allow-downloads",srcDoc:N,onLoad:function(){o.current.contentWindow.postMessage({action:"code",message:n},"*")}}),t&&(0,s.jsx)("div",{className:"preview_error",children:t})]})},z=t(96156),O=t(1706),D=function(){return{width:window.innerWidth,height:window.innerHeight}};function M(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?M(Object(t),!0).forEach((function(n){(0,z.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):M(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var T=function(e){var n,t=e.direction,r=e.children,o=function(){var e=(0,a.useState)({width:0,height:0}),n=e[0],t=e[1];return(0,a.useEffect)((function(){t(D());var e=function(){t(D())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),{windowWidth:n.width,windowHeight:n.height}}(),i=o.windowWidth,c=o.windowHeight,u=(0,a.useState)(c),l=u[0],d=u[1],p=(0,a.useState)(i),h=p[0],f=p[1],v=(0,a.useState)(.7*i),m=v[0],w=v[1],g=(0,a.useState)(.7*c),x=g[0],b=g[1];return(0,a.useEffect)((function(){var e;e&&clearTimeout(e),e=setTimeout((function(){d(c),f(i),w(.7*i<m||0===m?.7*i:m),b(.7*c<x||0===x?.7*c:x)}),500)}),[i,c]),n="horizontal"===t?{className:"resize-horizontal",height:1/0,width:m,resizeHandles:["e"],maxConstraints:[.7*h,1/0],minConstraints:[.2*h,1/0],onResizeStop:function(e,n){w(n.size.width)}}:{height:x,width:1/0,resizeHandles:["s"],maxConstraints:[1/0,.9*l],minConstraints:[1/0,24]},(0,s.jsx)(O.ResizableBox,P(P({},n),{},{children:r}))},U=(0,l.default)((function(){return Promise.resolve().then(t.bind(t,117)).then((function(e){return e.Tabs}))}),{ssr:!1,loadableGenerated:{webpack:function(){return[117]},modules:["../components/playground/cell-tabs.tsx -> react-tabs"]}}),Z=function(e){var n=e.initialCode,t=e.onChange,r=(0,a.useState)(n),o=r[0],i=r[1],l=(0,a.useState)(""),f=l[0],v=l[1],m=(0,a.useState)(),w=m[0],g=m[1],x=(0,a.useState)(!1),j=x[0],y=x[1],k=(0,a.useState)(0),S=k[0],_=k[1],L=(0,a.useState)(0),C=L[0],N=L[1];return(0,s.jsxs)(U,{selectedIndex:S,onSelect:function(e){return _(e)},children:[(0,s.jsxs)(d.TabList,{children:[(0,s.jsx)(d.Tab,{children:(0,s.jsx)("p",{className:"paragraph",children:"JSX"})}),(0,s.jsx)(d.Tab,{children:(0,s.jsx)("p",{className:"paragraph",children:"Result"})})]}),(0,s.jsxs)(d.TabPanel,{children:[(0,s.jsx)("button",{className:"btn",disabled:j,onClick:function(){j||(v(""),g(null),y(!0),function(){var e=(0,u.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(n);case 2:t=e.sent,v(t.code),t.err&&g(t.err),y(!1),_(1);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()(o))},children:(0,s.jsx)("div",{className:"cell_tabs__icon",children:j?(0,s.jsx)(p.G,{className:"cell_tabs__icon__spin",icon:h.LM3}):(0,s.jsx)(p.G,{icon:h.zc})})}),(0,s.jsx)(T,{direction:"vertical",children:(0,s.jsx)(E,{initialValue:n,onChange:function(e){i(e),t(e)}})})]}),(0,s.jsxs)(d.TabPanel,{children:[(0,s.jsx)("button",{className:"btn",disabled:j,onClick:function(){j||N((function(e){return e+1}))},children:(0,s.jsx)("div",{className:"cell_tabs__icon",children:j?(0,s.jsx)(p.G,{className:"cell_tabs__icon__spin",icon:h.LM3}):(0,s.jsx)(p.G,{icon:h.q7m})})}),(0,s.jsx)(T,{direction:"vertical",children:j?(0,s.jsx)("div",{className:"preview_wrapper preview_wrapper--loading",children:(0,s.jsx)("p",{className:"paragraph",children:"Loading..."})}):(0,s.jsx)(R,{code:f,err:w,save:C})})]})]})},G=function(){var e=(0,a.useState)("// Mermaid Sample\nimport React from \"react\"\nimport ReactDOM from 'react-dom';\nimport Mermaid from 'react-mermaid2';\n\nconst App = () => {\n  return (\n      <Mermaid chart={`\n          graph TD;\n          A--\x3eB;\n          A--\x3eC;\n          B--\x3eD;\n          C--\x3eD;\n          `}/>\n  )\n};\n\nReactDOM.render(\n  <App />,\n  document.querySelector('#root')\n);\n"),n=e[0],t=e[1];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.default,{children:(0,s.jsx)("title",{children:"Playground"})}),(0,s.jsx)("section",{className:"section_playground",children:(0,s.jsxs)("article",{children:[(0,s.jsx)("h2",{className:"heading2 u-margin-bottom-small",children:"Playground"}),(0,s.jsx)(Z,{initialCode:n,onChange:function(e){t(e)}})]})})]})}},46020:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/playground",function(){return t(69951)}])}},function(e){e.O(0,[774,797,124,888,179],(function(){return n=46020,e(e.s=n);var n}));var n=e.O();_N_E=n}]);